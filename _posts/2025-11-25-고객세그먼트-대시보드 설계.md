---
title: "[개인] RFM·코호트·이탈 분석을 통한 상위 고객 구매 유지율 하락 문제 정의 및 가설 검증  - 대시보드 설계"
excerpt: "분석한 결과를 토대로 대시보드를 설계하자"
date: 2025-11-25T12:00:00+09:00
last_modified_at: 2025-11-25T12:00:00+09:00
toc: true
toc_label: "목차"
toc_sticky: true
categories: [Project,RFM]
tags: [RFM, 고객 분석, 코호트 분석, Funnel, 이탈 분석, SparkSQL,가설검정, 실험설계, 카이제곱검정, 로지스틱 회귀, ANOVA, Wilcoxon signed-rank ]
layout: single
---

## 개요
- 표지(커버)와 메인 대시보드를 분리하여 구성
- 웹 페이지처럼 탭(Tab) 기반으로 4개의 대시보드를 자유롭게 이동 가능
- 구축한 대시보드:
  1) RFM 기반 고객 분류 & 행동 인사이트  
  2) 월별 세그먼트·카테고리 기반 행동 분석  
  3) RFM 세그먼트 코호트 유지율 분석  
  4) 고객 이탈 분석  

---

## 대시보드 임베딩
<!-- ✅ 수정된 코드: 큰 화면은 원래대로, 노트북만 가로휠 방지 -->
<style>
/* 큰 화면 (800px 이상) - 데스크톱/큰 모니터 (원래대로) */
@media (min-width: 800px) {
  #vizResponsive { 
    height: 1300px !important; 
  }
}

/* 중간 화면 (720px ~ 799px) - 노트북 (가로휠 방지) */
@media (min-width: 720px) and (max-width: 799px) {
  #vizResponsive { 
    height: 700px !important; 
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }
  #vizResponsive .tableauViz {
    transform: scale(0.95) !important;
    transform-origin: top left !important;
  }
}

/* 작은 화면 (600px ~ 719px) - 태블릿 */
@media (min-width: 600px) and (max-width: 719px) {
  #vizResponsive { 
    height: 550px !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }
  #vizResponsive .tableauViz {
    transform: scale(0.9) !important;
    transform-origin: top left !important;
  }
}

/* 모바일 (600px 미만) - 스마트폰 */
@media (max-width: 599px) {
  #vizResponsive { 
    height: 400px !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }
  #vizResponsive .tableauViz {
    transform: scale(0.85) !important;
    transform-origin: top left !important;
  }
}
</style>

<!-- ✅ Tableau 대시보드 임베드 -->
<div class="tableauPlaceholder" id="viz1765182613036" style="position: relative; width: 100%; height: 1300px; margin: 1em 0;">
  <noscript>
    <a href="#">
      <img alt="cover(overview) " src="https://public.tableau.com/static/images/_1/_17641197633720/coveroverview/1_rss.png" style="border: none; width: 100%; height: 100%; object-fit: contain;" />
    </a>
  </noscript>
  <object class="tableauViz" style="display:none;">
    <param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F" />
    <param name="embed_code_version" value="3" />
    <param name="site_root" value="" />
    <param name="name" value="_17641197633720/coveroverview" />
    <param name="tabs" value="no" />
    <param name="toolbar" value="yes" />
    <param name="static_image" value="https://public.tableau.com/static/images/_1/_17641197633720/coveroverview/1_rss.png" />
    <param name="animate_transition" value="yes" />
    <param name="display_static_image" value="yes" />
    <param name="display_spinner" value="yes" />
    <param name="display_overlay" value="yes" />
    <param name="display_count" value="yes" />
    <param name="language" value="ko-KR" />
  </object>
</div>

<script type="text/javascript">
  window.addEventListener('DOMContentLoaded', function () {
    var divElement = document.getElementById('viz1765182613036');
    var vizElement = divElement.getElementsByTagName('object')[0];
    if (vizElement) {
      // ✅ 반응형 크기 조절 (Tableau 기본 임베드 설정과 동일하게)
      if (divElement.offsetWidth > 800) {
        vizElement.style.width = '1800px';
        vizElement.style.height = '1227px';
      } else if (divElement.offsetWidth > 500) {
        vizElement.style.width = '1800px';
        vizElement.style.height = '1227px';
      } else {
        vizElement.style.width = '100%';
        vizElement.style.height = '4827px';
      }

      // ✅ Tableau 스크립트 로드
      var scriptElement = document.createElement('script');
      scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
      vizElement.parentNode.insertBefore(scriptElement, vizElement);
    }
  });
</script>

<!-- 
<div class='tableauPlaceholder' id='viz1765182613036' style='position: relative'><noscript><a href='#'><img alt='cover(overview) ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;_1&#47;_17641197633720&#47;coveroverview&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='_17641197633720&#47;coveroverview' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;_1&#47;_17641197633720&#47;coveroverview&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='ko-KR' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1765182613036');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1600px';vizElement.style.height='927px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1600px';vizElement.style.height='927px';} else { vizElement.style.width='100%';vizElement.style.height='1227px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script> -->

---

## 대시보드 공통 특징
- 표지에서 **Go to Dashboard** 클릭 시 해당 분석 화면으로 이동  
- 상단 탭(Overview, Monthly, Cohort, Churn) 클릭 시 주제별 메인 화면으로 이동  
- 각 화면에 GitHub 코드로 이동할 수 있는 버튼 제공  
- 반드시 알아야 하는 사항은 별도 박스로 표시하여 사용자 이해도 강화 

---

### 1. RFM 기반 고객 분류 & 행동 인사이트 대시보드
- 전체 고객을 RFM 기준으로 세그먼트화하여 **세그먼트 규모 비교**
- 세그먼트별 **평균 구매 기간·구매 횟수·LTV·LTV 비율·ARPU** 확인 가능
- Funnel(view → cart → purchase)의 **전환 수·전환율 비교**
- KPI는 왼쪽 세그먼트 선택 영역과 연동되어, 특정 세그먼트 선택 시 해당 KPI 자동 반영

---

### 2. 월별 세그먼트·카테고리 기반 행동 분석 대시보드
- 매월 고객 세그먼트를 재분류하여 **월별 LTV, ARPU, 평균 구매 기간·횟수** 추이를 분석
- KPI는 최신 데이터인 **2020년 4월 기준으로 표시**
- 생키(Sankey) 차트로 세그먼트 이동 및 **매출 증감 효과 시각화**
- 선택한 기준월·세그먼트에 따라 이동 규모·매출 변화량까지 분석 가능
- 카테고리 분석은 기준월·세그먼트 필터와 연동되며, **해당 조건에서 매출 TOP 6 카테고리**를 제공
- 카테고리별 **총 매출·비중·평균 구매 기간·총 구매 횟수·상세 카테고리** 확인 가능

---

### 3. RFM 세그먼트 코호트 유지율 분석 대시보드
- 상단 표: 전체 고객의 **코호트별 구매 유지율**
- 하단 시각화: 세그먼트 선택 시 해당 세그먼트의 **월별 코호트 유지율 패턴** 확인
- 전체 코호트 유지율과 세그먼트 코호트 유지율은 산출 방식이 달라 **값이 다를 수 있음**
- 세그먼트 간 **장기 유지력 비교** 가능

---

### 4. 고객 이탈 분석 대시보드
### 주요 KPI (2020년 4월 기준)
- **이탈율**: 전달에 이탈이 아니었던 고객 중 이탈로 전환된 비율  
- **이탈 위험율**: 전달에 위험군이 아니었으나 위험군으로 전환된 비율  
- **이탈 고객 과거 LTV**: 4월 이탈 고객의 과거 누적 매출  
- **5월 예상 손실액**: 최근 3개월 이탈율 + 활성 고객 수 + ARPU 기반 예측 

### 상세 분석 지표
- **Number(인원수)**: 세그먼트별 월간 인원 변화
- **Funnel**: view/cart/purchase 비교  
  - KPI는 전체 기준(all day),  
  - 라인 차트는 최근 **3·7·14일** 추이를 제공
- **Move(이동 분석)**:  
  - 생키 차트는 “최종적으로 4월에 이탈 고객이 된 흐름”만 표시  
  - 기준월 변경 가능 → 어떤 세그먼트가 이탈로 이동했는지 확인
- **카테고리 분석**:  
  - 이탈 고객이 마지막으로 구매한 카테고리 정보 제공  
  - 카테고리 ID / 상세 코드 / 구매 횟수  
  - 구매 횟수 많은 순으로 정렬  

---

> 대시보드는 [**Tableau Public**](https://public.tableau.com/app/profile/yu.siyeon/viz/_17641197633720/coveroverview)  에서 확인할 수 있습니다.
